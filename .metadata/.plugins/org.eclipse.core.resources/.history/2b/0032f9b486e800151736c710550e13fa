package servlet;

import java.sql.Connection;
import java.sql.DriverManager;

import javax.servlet.ServletConfig;
import javax.servlet.ServletException;
import javax.servlet.UnavailableException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import model.Insurer;
import dao.InsurerDAO;
import dao.InsurerDAOImpl;

@SuppressWarnings("serial")
@WebServlet("/SimpleServlet")
public class SimpleServlet extends HttpServlet {
	public void init(ServletConfig config) throws ServletException {
		      super.init(config);
		      try {
		         Class.forName("com.mysql.jdbc.Driver");
		         }
		      catch (Exception e) {
		         throw new UnavailableException(e.getMessage());
		      }
		   }
	
	public void doGet (HttpServletRequest request, HttpServletResponse response) {
		Insurer insurer = new Insurer("1", "user1", "user1", "user1");
		InsurerDAO ins = new InsurerDAOImpl();
		ins.insert(insurer);
	}
}