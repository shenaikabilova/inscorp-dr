/**
 * 
 */
package inscorp;

import junit.framework.Assert;

import org.junit.AfterClass;
import org.junit.Test;

import dao_api.InsurerDAO;
import dao_jdbc.InsurerDAOImpl;
import model.Insurer;

/**
 * @author shenaikabilova
 *
 */
public class InsurerDAOImplTest {
	private static Insurer insurer = new Insurer();
	private static InsurerDAO dao= new InsurerDAOImpl();
	
	@AfterClass
	static public void del() {
		dao.delete(insurer.getInsurerId());
	}
	
	@Test
	public void testInsert() {
		insurer.setInsurerId("5");
		insurer.setInsurerName("Шенай");
		insurer.setInsurerFamily("Кабилова");
		insurer.setInsurerEmail("shenaikabilova@abv.bg");
		insurer.setInsurerPassword("123456");
		
		dao.insert(insurer);
		
		Assert.assertEquals(insurer.getInsurerId(), dao.searchUserName("5").getInsurerId());
		Assert.assertEquals(insurer.getInsurerName(), dao.searchUserName("5").getInsurerName()); 
		Assert.assertEquals(insurer.getInsurerFamily(), dao.searchUserName("5").getInsurerFamily());
		Assert.assertEquals(insurer.getInsurerEmail(), dao.searchUserName("5").getInsurerEmail());
		Assert.assertEquals(insurer.getInsurerPassword(), dao.searchUserName("5").getInsurerPassword());
	}
	
	@Test
	public void testUpdate() {
		insurer.setInsurerId("5");
		insurer.setInsurerName("Шенай");
		insurer.setInsurerFamily("Кабилова");
		insurer.setInsurerEmail("shenaikabilova93@abv.bg");
		insurer.setInsurerPassword("123456789");
		
		dao.update(insurer);
		
		Assert.assertEquals(insurer.getInsurerId(), dao.searchUserName("5").getInsurerId());
		Assert.assertEquals(insurer.getInsurerName(), dao.searchUserName("5").getInsurerName()); 
		Assert.assertEquals(insurer.getInsurerFamily(), dao.searchUserName("5").getInsurerFamily());
		Assert.assertEquals(insurer.getInsurerEmail(), dao.searchUserName("5").getInsurerEmail());
		Assert.assertEquals(insurer.getInsurerPassword(), dao.searchUserName("5").getInsurerPassword());
	}
	
	@Test 
	public void testDelete() {
		insurer.setInsurerId("5");
		insurer.setInsurerName("Шенай");
		insurer.setInsurerFamily("Кабилова");
		insurer.setInsurerEmail("shenaikabilova@abv.bg");
		insurer.setInsurerPassword("123456");
		
		dao.delete(insurer.getInsurerId());
		
		Assert.assertNotSame("Not same", insurer.getInsurerId(), dao.searchUserName("5").getInsurerId());
	}
}